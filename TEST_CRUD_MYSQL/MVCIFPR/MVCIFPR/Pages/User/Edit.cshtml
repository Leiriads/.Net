@page
@model MVCIFPR.Pages.User.EditModel
@{
}
<br />
<h2>Editar Questão</h2>

@if (Model.errorMessage.Length > 0)
{
    <div class="alert alert-warning alert-dimissible fade show" role="alert">
        <strong>@Model.errorMessage</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
}

    <form method="POST">
    <input type="hidden" name="id" value="@Model.questao.Id" />
    
   

    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Enunciado</label>
        <div class="col-sm-6">
            <textarea class="form-control" placeholder="Insira o Enunciado da Questão" name="pergunta" value="">@Model.questao.Pergunta</textarea>
        </div>
    </div>

    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">A</label>
        <div class="col-sm-6">
            <textarea class="form-control" placeholder="Opção A" name="opcA" value="">@Model.questao.OpcA</textarea>
        </div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">B</label>
        <div class="col-sm-6">
            <textarea class="form-control" placeholder="Opção B" name="opcB" value="">@Model.questao.OpcB</textarea>
        </div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">C</label>
        <div class="col-sm-6">
            <textarea class="form-control" placeholder="Opção C" name="opcC" value="">@Model.questao.OpcC</textarea>
        </div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">D</label>
        <div class="col-sm-6">
            <textarea class="form-control" placeholder="Opção D" name="opcD" value="">@Model.questao.OpcD</textarea>
        </div>
    </div>
    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">E</label>
        <div class="col-sm-6">
            <textarea class="form-control" placeholder="Opção E" name="opcE" value="">@Model.questao.OpcE</textarea>
        </div>
    </div>

    <div class="row mb-3">
        <label class="col-sm-3 col-form-label">Opção correta</label>
        <div class="col-sm-6">
            <select class="form-control" id="filtro-data" name="resposta_correta">
                @for (char option = 'A'; option <= 'E'; option++)
                {
                    <option value="@option" selected="@((Model.questao.RespostaCorreta == option.ToString()) ? "selected" : null)">@option</option>
                }
            </select>
        </div>
    </div>




    @if (Model.successMessage.Length > 0)
    {



        <div class="row mb-3">
            <div class="col-sm-9">
                <div class="alert alert-success alert-dimissible fade show" role="alert">
                    <strong>@Model.successMessage</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                </div>
            </div>
        </div>

        <script>
            setTimeout(function () {
                Swal.fire({
                    title: 'Questão Alterada Redirecionando...',
                    icon: 'success',
                    timer: 3000,
                    timerProgressBar: true
                }).then((result) => {
                    if (result.dismiss === Swal.DismissReason.timer || result.isConfirmed) {
                        window.location.replace('/User/Index');
                    }
                });
            }, 100);
        </script>
    }



    <div class="row mb-3">
        <div class="offset-sm-3 col-sm-3 d-grid">
            <button type="submit" class="btn btn-success">Salvar</button>
        </div>

        <div class="col-sm-3 d-grid">
            <a class="btn btn-outline-danger" href="/" role="button">Cancelar</a>
        </div>

    </div>
</form>

<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
